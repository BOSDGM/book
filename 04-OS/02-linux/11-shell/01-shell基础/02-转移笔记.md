# 1. shell调用

* 显式调用

  命令行直接运行

  ```bash
  /bin/bash demo.sh
  ```

* 隐式调用

  在文本开头增加`#!/bin/bash`, 然后赋予可执行权限`chmod +x demo.sh`, 直接执行

  ```bash
  ./demo.sh
  ```

* 重载执行

  ```bash
  source demo.sh
  ```

# 2. 注释

* 单行注释

  ```bash
  # 12345678
  ```

* 多行注释

  ```bash
  :<<!
  xxx
  !
  # "!"可以换成其他符号, 但是不能和其他特殊符号相同, 比如: #
  ```

# 3. echo与$

```bash
echo # 回响命令
$    # 执行命令

echo 123         # 123
echo $(data +%Y) # 2019
```

# 4. 变量

```bash
注意: shell脚本语言只有str类型
1. name=aa
    content=name is $name
    # 解析成content=name | is | $name   执行抛出异常

2. name='aa'
    content='name is $name'
    # name is $name

3. name="aa"
    content="name is $name"
    # name is aa 
```



# 5 变量命令

```bash
使变量具有可执行能力
<1> files=`ls`  # 反引号
<2> files=$(ls)
```

* 全局变量/本地变量

  ```bash
  1. 本地变量: 变量创建出来默认为本地变量
  2. 全局变量:
      <1> param=value
          export param       # 声明为全局变量, 作用于本shell全局
      <2> export param=value # 声明为全局变量, 作用于本shell全局
      <3> vim ~/.bashrc
          将参数添加到此文件中, 保存, 执行: source ~/.bashrc
          # 声明为全局变量, 作用于全部shell全局
          注: ~/.bashrc 每次打开终端默认都会执行此文件  
  ```

  



# 6. 参数

```bash
$0: 获取当前执行脚本的文件名
$n: n为1, 2, 3... 获取命令行执行文件时附加的参数, 按照顺序取值
$*: 获取命令行执行文件时附加的全部参数
$#: 传入到当前脚本的附加参数个数
$?: 返回0表示上个命令执行成功, 非零表示失败
!$: 表示上次执行命令时的, 最后一个参数
```

* 参数设置

  ```bash
  1. 设置默认值
  unset name    # 清空变量
  echo ${name:-"xxx"}  # xxx
  name=
  echo ${name:-"xxx"}  # xxx
  name="bbb"
  echo ${name:-"xxx"}  # bbb
  
  2. 强制覆盖
  unset name
  echo ${name+"xxx"}   # xxx
  name=
  echo ${name+"xxx"}   # xxx
  name="bbb"
  echo ${name+"xxx"}   # xxx
  ```

# 7. 字符串截取

```bash
${param:start:number}
例:
    name="name is hhhh"
    ${name:5:2}   # is
    ${name:0-7:2} # is
    # 注意负索引不能省略0
```

# 8 运算符号

```bash
test 测试程序
1. 判断:
    test 1 = 2 && echo $?
    test 1 = 1 && echo $? # 比较字符串是否相等
    test 1=1 && echo $?   # 如果不加空格1=1将会被解释成为字符串
    **********************************************************
    [ 1 = 2 ] && echo $?
    [ 1 = 1 ] && echo $?
    [ 1=1 ] && echo $?    # 同上

2. 逻辑运算符:
    &&   ||

3. 数学运算符:
    -eq: 等于
    -gt: 大于
    -ge: 大于等于
    -lt: 小于
    -le: 小于等于
    -ne: 不等于
    例:
        [ 1 -gt 3 ] && echo $?
        [ abc -ne ccc ] && echo $?

4. 文件判断:
    [ -f file.py ]    # 判断是否为普通文件
    [ -d file ]       # 判断是否为文件夹
    [ -x file.py ]    # 判断该文件时候具有可执行权限
    [ 1.py -nt 2.py ] # 判断1.py是否比2.py更新
    [ 1.py -ot 2.py ] # 判断1.py是否比2.py更旧
    [ 1.py -eq 2.py ] # 判断两个文件是否为同一个文件

5. 算数表达式:
    5.1 直接执行:
        echo $((1+2))
        *******************
        a=1
        b=2
        echo $((${a}+${b}))
    5.2 let:
        let c=1+3 && echo $c
        ********************
        a=1
        b=2
        let c=a+b && echo $c
```

