# 1. shell

用户与内核交互的一种接口. 接受用户输入并送入内核进行执行. 

![image-20200711182700766](image/02-%E5%91%BD%E4%BB%A4/image-20200711182700766.png)

* 内部命令:  系统启动时调用存入内存, 常驻内存, 执行效率高
* 外部命令:  系统软件功能, 用户在需要时候才从硬盘中读入内存

命令类型查看方法

```bash
[root@localhost ~]# type pwd
pwd is a shell builtin  # 内部命令
[root@localhost ~]# type -f cat
cat is hashed (/bin/cat)  # 外部命令
```

## 1.1 shell命令

### 1.1.1 命令形式

linux命令格式如下:

```bash
命令   [选项]  [参数]
```

* 命令: `ls/pwd/ifconfig...`
* 选项: 可选常常以`-`或者`--`开头
* 参数:  命令传入的参数

例如:

```bash
cat [-AbeEnstTuv] [--help][--version] fileName
```

* -A|--show-all: 表示展示所有，等同于-vET
* -b|--number-nonblank: 输出带有行号的字符到基本输出设备（一般是屏幕）
* -e: 等同于-vE
* -E|--show-ends: 在每行的最后展示`$`符号；就是无论你输入了什么，屏幕会直接显示你刚才输入的内容，并且在每行最后用`$`符号结尾
* -n|--number: 显示行号
* -s|--squeeze-blank: 剔除空行输出
* -t: 等同于-VT
* -T|--show-tabs: 展示tab信息, 以`^I`的形式

* -u: 忽略
* -v|--show-nonprinting: 使用`^`和`M-`来替换无法显示的字符.



### 1.1.2 命令别名

一些命令为了简化起了别名, 例如

```bash
[root@localhost 2020-03-22]# type ll
ll is aliased to `ls -l --color=auto'  # ls 等同于 ls -l --color-auto
```

也可以自己配置别名命令:

1. 当前tty临时生效

   ```bash
   [root@localhost 2020-03-22]# py3
   -bash: py3: command not found
   [root@localhost 2020-03-22]# alias py3=python3
   [root@localhost 2020-03-22]# py3
   Python 3.7.2 (default, Jun 14 2020, 19:27:22) 
   [GCC 4.4.7 20120313 (Red Hat 4.4.7-23)] on linux
   Type "help", "copyright", "credits" or "license" for more information.
   >>> 
   
   ```

2. 指定用户生效

   将上述命令增加到 `~/.bashrc`文件中, 重启shell或者`source ~/.bashrc`即可

3. 全用户生效

   将1中命令增加到`/etc/bashrc`中, `source /etc/bashrc`即可

### 1.1.3 注释

* 单行注释

  ```bash
  # 12345678
  ```

* 多行注释

  ```bash
  :<<!
  xxx
  !
  # "!"可以换成其他符号, 但是不能和其他特殊符号相同, 比如: #
  ```


# 2. 常见命令

## 2.1 测试相关

### 2.1.1 命令测试

* test

  主要用于命令测试

  ```bash
  test 1 = 2 && echo $?
  test 1 = 1 && echo $? # 比较字符串是否相等
  test 1=1 && echo $?   # 如果不加空格1=1将会被解释成为字符串
  **********************************************************
  [ 1 = 2 ] && echo $?
  [ 1 = 1 ] && echo $?
  [ 1=1 ] && echo $?    # 同上
  ```