# 1. 注释

## 1.1 单行注释

```bash
# 12345678
```

## 1.2 多行注释

```bash
:<<!
xxx
!
# "!"可以换成其他符号, 但是不能和其他特殊符号相同, 比如: #
```

# 2. 参数

## 2.2 自定义参数

### 2.2.1 参数定义

`shell`中的参数类型只有`string`, 定义方式如下

* string

  ```bash
  name="aaa"  # 或者
  name=aaa    # 或者与命令组合
  name='name is $name'   # 输出: name is aaa
  name="name is $name"   # 输出: name is $name
  ```

* 命令

  ```bash
  files=`ls -a`   # 或者
  files=$(ls -a)
  ```

### 2.2.2 取消参数

清理参数

```bash
unset name
```
### 2.2.3 查看参数

```bash
echo ${name:-"xxx"}
```

* `+`: 强制使用`xxx`覆盖参数`name`的原有数据
* `-`: 如果`name`变量存在, 使用原数据, 如果`name`不存在, 则使用`xxx`.

示例

```bash
unset name
echo ${name+"xxx"}   # xxx
name=
echo ${name+"xxx"}   # xxx
name="bbb"
echo ${name+"xxx"}   # xxx
```

# 3. 变量类型

## 3.1 本地变量

变量默认创建出来为本地变量

## 3.2 全局变量

### 3.2.1 当前shell全局

```bash
param=value && export param  # 或者
export param=value
```

* 命令行作用效果

  在当前用户启用的终端`tty`中有效, 另开或者重启失效.

* 文件中作用效果

  在当前的文件中全局有效

### 3.2.2 当前用户全局

将export声明放于`~/.bashrc`中, 并执行`source ~/.bashrc`即可

### 3.2.3 全局

将export声明放于`/etc/profile`中, 并执行`source /etc/profile`即可

# 4. 字符串

## 4.1 字符串截取

```bash
${param:start:number}
```

示例

```bash
name="name is hhhh"
${name:5:2}   # is
${name:0-7:2} # is
# 注意负索引不能省略0
```

# 5 基本语法

## 5.2 条件连接符

| 符号  | 说明 |
| ----- | ---- |
| `-eq` | `==` |
| `-gt` | `>`  |
| `-ge` | `>=` |
| `-lt` | `<`  |
| `-le` | `<=` |
| `-ne` | `!=` |

示例

```bash
[ 1 -gt 3 ] && echo $?
[ abc -ne ccc ] && echo $?
```

## 5.3 文件判断

```bash
[ -f file.py ]    # 判断是否为普通文件
[ -d file ]       # 判断是否为文件夹
[ -x file.py ]    # 判断该文件时候具有可执行权限
[ 1.py -nt 2.py ] # 判断1.py是否比2.py更新
[ 1.py -ot 2.py ] # 判断1.py是否比2.py更旧
[ 1.py -eq 2.py ] # 判断两个文件是否为同一个文件
```

## 5.4 算术直接执行

### 5.4.1 双括号

```bash
echo $((1+2))   # 或者
a=1 && b=2 && echo $((${a}+${b}))
```

### 5.4.2 let

```bash
let c=1+3 && echo $c
a=1 && b=2 && let c=a+b && echo $c
```

# 6 常用命令

## 6.1 test

测试命令, 主要用于测试命令

```bash
test 1 = 2 && echo $?
test 1 = 1 && echo $? # 比较字符串是否相等
test 1=1 && echo $?   # 如果不加空格1=1将会被解释成为字符串
**********************************************************
[ 1 = 2 ] && echo $?
[ 1 = 1 ] && echo $?
[ 1=1 ] && echo $?    # 同上
```

