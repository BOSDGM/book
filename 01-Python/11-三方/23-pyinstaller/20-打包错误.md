# 1. 路径异常

## 1.1 import导入失败

### 1.1.1 错误场景

* main.py

  ```python
  import a
  ```

* a.py

  ```python
  import b
  ```

打包语法:

```python
pyinstaller -F main.py
```

打包完成后, 运行报错

```python
ModuleNotFoundError: No module named 'b'
```

### 1.1.2 解决方案

在入口文件中, 提前导入全部需要用到的包, 防止打包时未打入.

```python
# main.py
import a
import b
```

## 1.2 BASE_DIR偏移

### 1.2.1 错误场景

项目代码使用`BASE_DIR`作为根路径, 后期其他模块循环引用此参数来进行操作.

例如`Django`中`BASE_DIR = os.path.dirname(os.path.abspath(__file__))`

此时对项目进行打包时:

```python
pyinstaller -F manager.py
```

直接运行程序, 将会把路径偏移至, 临时路径, 导致所有的绝对路径不可用

### 1.2.2 解决方案

使用`sys.argv[0]`来代替`__file__`即

```python
BASE_DIR = os.path.dirname(os.path.abspath(sys.argv[0]))
```





