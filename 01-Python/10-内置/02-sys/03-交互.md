# 1. 交互

## 1.1 标准流

### 1.1.1 标准流

#### - stdin

标准输入, 用于所有交互式输入, 包括`input`.

```python
return file-object
```

#### - stdout

标准输出, 用于所有交互式输出, 包括`print()`, `expression`, `input`的提示信息.

```python
return file-object
```

#### - stderr

标准错误输出, 用于所有交互式错误输出, 包括解析器本身异常, 代码异常导致的错误.

```python
return file-object
```

### 1.1.2 钩子

#### > displayhook

输出钩子, 将`value`输出到屏幕, 并存入到`builtins._`中.

```python
def displayhook(value):
return None
```

* value: `str`, 需要输出到屏幕之前的预处理信息.

#### > execpthook

异常钩子, 本函数会将所给的回溯和异常输出到 `sys.stderr` 中。

```python
def execpthook(type, value, traceback):
return None
```

* type: `异常类`, 引发异常的类
* value: `异常示例`, 引发异常的实例对象
* traceback: `回溯对象`, 回溯引发异常的过程对象. 

## 1.2 退出

### 1.2.1 异常

#### > exc_info

获取当前存在的异常三元组.

```python
def exc_info():
return (type, value, traceback)
```

### 1.2.1 退出

#### > exit

引发`SystemError`异常, 来终止程序运行, 一般只能终止当前线程, 想终止进程需要使用`os._exit()`.

```python
def exit(status):
return None
```

* status: `int`, 表示退出程序时的状态. [1-127], 0/正常, 1/其他错误, 2/命令行错误

**示例**

```python
import time
import multiprocessing

def son():
    import os, sys
    print("do stop")
    # os._exit(1)
    sys.exit(1)

def foo():
    import threading
    threading.Thread(target=son).start()
    time.sleep(2)
    print("thread over")


if __name__ == '__main__':
    multiprocessing.Process(target=foo).start()
    time.sleep(5)
    print(22222222222222222)

```

输出

```python
do stop
thread over
22222222222222222
```

#### > is_finalizing

判断, 解析器是否正在关闭.

```python
def is_finalizing():
return bool
```

## 1.3 参数传递

#### - argv

返回一个列表. 表示传递到Python中的所有参数. 

```python
(py35) [appgess@localhost ~]$ python test.py aa bb eee aa ggg
['test.py', 'aa', 'bb', 'eee', 'aa', 'ggg']
(py35) [appgess@localhost ~]$ python -c 'import sys;print(sys.argv)' aab cc ee ff
['-c', 'aab', 'cc', 'ee', 'ff']
(py35) [appgess@localhost ~]$ 
```

#### - \_xoptions

利用`X`向Python内部传递字典类型的参数, 返回一个字典

```python
hpcm@test$: python -Xa=b -Xc test.py
# test.py
import sys
print(sys._xoptions)
print(sys.argv)
```

输出

```python
{'a': 'b', 'c': True}
['test.py']
```

# 2. 内部

## 2.1 资源占用

#### > getsizeof

获取变量, 占用内存量. 单位: 字节

```python
def getsizeof(obj):
return int
```

* obj: `object`, 需要检测的对象

#### > intern

创建出内存地址引用相同的对象. 由此方法创建的`string`会常驻与变量字典中, 利于查找.

```python
def intern(string):
return obj
```

* string: `string`, 需要`copy`的字符串

**示例**

```python
>>> a = sys.intern("this massage is used by intern function")
>>> b = sys.intern("this massage is used by intern function")
>>> c = "this massage is used by intern function"
>>> d = "this massage is used by intern function"
>>> print(a is b)
True
>>> print(c is d)
False
>>> print(a is c)
False
>>>
```

